<script>
    function show_icon_if_necessary(tabId, changeInfo, tab) {
        if (/^http:\/\/arxiv.org\/abs/.test(tab.url)) {
            console.log(tabId);
            chrome.pageAction.show(tabId);
        }
    };

    chrome.tabs.onUpdated.addListener(show_icon_if_necessary);

    chrome.pageAction.onClicked.addListener(function(tab) {
        chrome.tabs.executeScript(null, {file: "jquery.min.js"}, function() {
            alert(1);
            /*chrome.tabs.executeScript(null, {file: "script.js"});
            chrome.tabs.sendRequest(
                tab.id, {
                    calc_base:  localStorage['calc_base'] || 'decimal',
                    delay:      localStorage['delay'] || 5000,
                    signature:  localStorage['signature'] || ''
                }, function(response) {
                }
            );*/
        });
        chrome.pageAction.hide(tab.id);
    });
</script>
